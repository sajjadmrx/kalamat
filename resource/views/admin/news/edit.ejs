<div class="d-flex justify-content-between align-items-center mb-3 pb-2 border-bottom">
    <h2>Ø§ÛŒØ¬Ø§Ø¯ Ø¯ÙˆØ±Ù‡</h2>
</div>
<form class="form-horizontal" action="/admin/news/<%= news.id %>?_method=put" method="post"
    enctype="multipart/form-data">

    <%- include(viewPath('layouts/error-messages')) -%>

        <div class="form-group row">
            <div class="col">
                <label for="title" class="control-label font-weight-bold">Ø¹Ù†ÙˆØ§Ù† Ø®Ø¨Ø±</label>
                <input type="text" class="form-control" name="title" id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"
                    value="<%=news.title%>">
            </div>
        </div>

        <div class="form-group row" id='miniBodyDiv'>
            <div class="col">
                <label for="title" class="control-label font-weight-bold">ÛŒÚ© ØªÙˆØ¶ÛŒØ­ Ú©ÙˆØªØ§Ù‡</label>
                <input onload="valiadtor()" onkeydown="valiadtor()" type="text" class="form-control" name="miniBody"
                    id="miniBody" placeholder="ÛŒÚ© ØªÙˆØ¶ÛŒØ­ Ú©ÙˆØªØ§Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒÙ€Ø¯" value="<%=news.miniBody%>">

            </div>

        </div>

        <div class="alert alert-danger alert-dismissible" id='alert'>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span>Ã—</span>
            </button>
            â€¢ Ø­Ø¯Ø§Ú©Ø«Ø± 112 Ú©Ø§Ø±Ø§Ú©ØªØ±
        </div>

        <div class="form-group row">
            <div class="col">
                <label for="body" class="control-label font-weight-bold">Ù…ØªÙ†</label>
                <textarea rows="10" class="form-control" name="body" id="body"
                    placeholder="Ù…ØªÙ† Ù…Ù‚Ø§Ù„Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"><%=news.body%></textarea>
            </div>
        </div>

        <label for="tags" class="control-label font-weight-bold">ØªÚ¯ Ù‡Ø§</label>
        <div class="form-group row">
            <div class="col">
                <input data-role="tagsinput" type="text" class="input-tags" name="tags" id="tags"
                    placeholder="ØªÚ¯ Ù‡Ø§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" value="<%=news.tags%>">
            </div>
        </div>

        <div class="form-group row">
            <label for="images" class="control-label font-weight-bold">ØªØµÙˆÛŒØ± Ø®Ø¨Ø±</label>

            <div class="container">


                <div class=" col-md-20">
                    <img src="<%= news.images %>" class="jumbotron border border-warning" alt="Cinque Terre"
                        width="50%">
                </div>


                <label for="images" class="control-label font-weight-bold">ÙˆÛŒØ±Ø§ÛŒØ´ ØªØµÙˆÛŒØ±</label>
                <div>
                    <div class="col-sm-3 col-md-6 custom-file">
                        <input type="file" class="custom-file-input" name="images" id="images">
                        <label class="custom-file-label" for="inputGroupFile01">Ø§Ù†ØªØ®Ù€Ø§Ø¨ ØªØµÙˆÛŒØ±..</label>
                    </div>
                </div>



            </div>
        </div>


        <div class="checkbox">
            <label class=" display-5">
                <h6> - Ù…Ù†ØªØ´Ø± Ø´ÙˆØ¯ØŸ</h6>
            </label>
            <input type="checkbox" name="published" id="published" data-toggle="toggle" data-onstyle="success"
                data-offstyle="warning">
        </div>


        <div class="container">


            <button class="btn btn-danger" id="update" type="submit">Ø°Ø®ÛŒØ±Ù‡ ÙˆÛŒØ±Ø§ÛŒØ´</button>

        </div>
</form>


<link rel="stylesheet" href="/css/component-chosen.min.css">
<link rel="stylesheet" href="/css/bootstrap-tagsinput.css">

<script src="/ckeditor/ckeditor.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.6/chosen.jquery.min.js"></script>
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<script src="/js/bootstrap-tagsinput.js"></script>

<script>
    CKEDITOR.replace('body', {
        filebrowserUploadUrl: '/admin/upload-image',
        language: 'fa'
    })

    $('.form-control-chosen').chosen({});
</script>

<script>
    $(function () {

        $('#published').bootstrapToggle("<%=news.published ? 'on' : 'off' %>")

    })

    $(function () {
        $('#published').bootstrapToggle({
            on: 'Enabled',
            off: 'Disabled'
        });
    })



    function valiadtor() {
        const doc = document.getElementById('miniBody')
        const alert = document.getElementById('alert')
        const length = doc.value.length


        if (length != 112) {
            alert.className = 'alert alert-danger alert-dismissible'
            alert.innerText = `â€¢ âš ï¸ ${length} Ú©Ø§Ø±Ø§Ú©ØªØ± Ø§Ø² 112`
        }
        if (length == 112) {
            alert.className = 'alert alert-success alert-dismissible'

            alert.innerText = `â€¢ Ø¨Ø³ÛŒØ§Ø± Ø®Ø¨! Ù‚Ø§Ø¨Ù„ Ø§Ù†ØªØ´Ø§Ø± Ù…ÛŒØ¨Ø§Ø´Ø¯. ğŸ‰`
        }

    }


</script>


<style>
    .container {
        width: 900px;
        margin: 100px auto;
        text-align: center;
    }

    .input-tags {
        width: 100%;
        padding: 15px;
        display: block;
        margin: 0 auto;
    }

    .label-info {
        background-color: #5bc0de;
        padding: 3px;
    }

    .custom-file-input {
        background-color: #5bc0de;
        cursor: pointer;
    }

    #update {
        width: 50%;
    }
</style>